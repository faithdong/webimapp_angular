var UM=UM||{};UM.UI=UM.UI||{},UM.UI.eventType=UM.UI.eventType||{down:"mousedown",move:"mousemove",up:"mouseup"},UM.UI.isMobile=!1,"ontouchstart"in document&&(UM.UI.eventType={down:"touchstart",move:"touchmove",up:"touchend"},UM.UI.isMobile=!0),$(function(){document.body.addEventListener("touchstart",function(){}),$(document).on("click",".um-list-left-icon",function(t){t.stopPropagation()}).on("touchmove",".overlay",function(t){return t.preventDefault(),!1}).on("click",".um-tabbar li,.um-footerbar-item",function(){$(this).addClass("active").siblings().removeClass("active")}),$("textarea.form-control").elastic(),UM.UI.isMobile&&$("label").on("change",function(t){$(this).addClass("um-label-change").siblings("label").addClass("um-label-change"),setTimeout(function(){$(this).removeClass("um-label-change").siblings("label").removeClass("um-label-change")}.bind(this),100)})}),+function(t){"use strict";t(function(){var e=".um-collapse-btn",i=function(e){var i,s=t(this).data("target");i=s?t("#"+s):t(this).siblings(".um-collapse-content"),i.is(":visible")?(i.slideUp("fast"),i.parent().removeClass("um-open")):(i.slideDown("fast"),i.parent().addClass("um-open")),e.preventDefault()};t(document).on("click",e,i)})}(jQuery),function(t){t.fn.extend({elastic:function(){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function i(){curatedWidth=Math.floor(parseInt(o.width(),10)),a.width()!==curatedWidth&&(a.css({width:curatedWidth+"px"}),n(!0))}function s(t,e){var i=Math.floor(parseInt(t,10));o.height()!==i&&(o.css({height:i+"px",overflow:e}),o.trigger("resize"))}function n(t){var e=o.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),i=a.html().replace(/<br>/gi,"<br />");if((t||e+"&nbsp;"!==i)&&(a.html(e+"&nbsp;"),Math.abs(a.height()+r-o.height())>3)){var n=a.height()+r;n>=h?s(h,"auto"):n<=u?s(u,"hidden"):s(n,"hidden")}}if("textarea"!==this.type)return!1;var o=t(this),a=t("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),r=parseInt(o.css("line-height"),10)||parseInt(o.css("font-size"),"10"),u=parseInt(o.css("height"),10)||3*r,h=parseInt(o.css("max-height"),10)||Number.MAX_VALUE;h<0&&(h=Number.MAX_VALUE),a.appendTo(o.parent());for(var l=e.length;l--;)a.css(e[l].toString(),o.css(e[l].toString()));o.css({overflow:"hidden"}),o.bind("keyup change cut paste",function(){n()}),$(window).bind("resize",i),o.bind("resize",i),o.bind("update",n),o.bind("blur",function(){a.height()<h&&(a.height()>u?o.height(a.height()):o.height(u))}),o.bind("input paste",function(t){setTimeout(n,250)}),n()})}})}(jQuery),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){e&&e.constructor===String?this.settings=$.extend({},this.defaults,{title:e,text:""}):this.settings=$.extend({},this.defaults,e),this.type=t,this._init()}return i.prototype={constructor:i,overlay:$('<div class="um-overlay"></div>'),defaults:{title:t.location.host||"",text:"",btnText:["取消","确定"],overlay:!0,cancle:function(){},ok:function(t){}},done:function(t){"function"==typeof t&&this._complete&&t.call(this)},_generateHTML:function(){var t,e=this.settings,i=this.type;t='<div class="um-modal"><div class="um-modal-content um-border-bottom">',e.title&&(t+='<div class="um-modal-title">'+e.title+"</div>"),e.text&&(t+='<div class="um-modal-text">',t+=e.text+"</div>"),"prompt"===i&&(t+='<div class="um-modal-input"><input type="text" class="form-control"></div>'),"login"===i&&(t+='<div class="um-modal-input"><input type="text" class="form-control"><input type="text" class="form-control"></div>'),t+="tips"===i?"</div>":'</div><div class="um-modal-btns">',"confirm"!==i&&"login"!==i&&"prompt"!==i||(t+='<a href="#" class="btn cancle">'+e.btnText[0]+"</a>"),t+="tips"===i?"</div>":'<a href="#" class="btn ok">'+e.btnText[1]+"</a></div></div>","loading"===i&&(t='<div class="um-modal" style="background-color: rgba(0, 0, 0, 0.35);width: 150px;margin-left: -75px;padding: 20px;border-radius: 12px;"><span class="um-ani-rotate"></span></div>'),this.html=t},_showModal:function(){this.settings.overlay&&this.overlay.appendTo($("body")).fadeIn(300);var e=$(this.html).appendTo($("body")),i=e.outerHeight(),s=t.innerHeight;e.css("top",(s-i-20)/2),setTimeout(function(){e.addClass("um-modal-in")},100),this.modal=e,this._attachEvent()},_attachEvent:function(){var t=this;t.modal.on("click",".btn",function(e){if(e.preventDefault(),$(this).hasClass("cancle")&&setTimeout(function(){t.settings.cancle(i)},100),$(this).hasClass("ok")){var i,s=t.modal.find(".form-control"),n=s.length;n&&(1==n?i=t.modal.find(".form-control").val():(i=[],$.each(s,function(){i.push(this.value)}))),setTimeout(function(){t.settings.ok(i)},100)}t.destory(t.modal)})},destory:function(){var t=this;this.modal.removeClass("um-modal-in").addClass("um-modal-out").on("webkitTransitionEnd",function(){t.modal.off("webkitTransitionEnd"),t.modal.removeClass("um-modal-out"),t.modal.remove()}),this.settings.overlay&&this.overlay.remove()},_init:function(){this._generateHTML(),this._showModal(),"tips"!==this.type&&"loading"!==this.type||(this._complete=1)}},UM.modal=function(t,e){return new i(t,e)},UM.modal}),function(t,e,i){"use strict";function s(t,e){return"forEach"in t?t.forEach(e):r.call(t,e)}var n=0,o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){var i=e.prototype.now(),s=Math.max(1e3/60,1e3/60-(i-n));return n=i+s,setTimeout(t,s)},a=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout,r=function(t){for(var e,i=0,s=this.length;i<s;i++)e=this[i],"undefined"!=typeof e&&t(e,i,this)};e.prototype={constructor:e,playing:!1,complete:!1,percent:0,bindEvent:function(){this.events={},this.finish(function(){this.complete=!0})},on:function(t,e){if("object"==typeof t)for(var i in t)this.on(i,t[i]);else this.events[t]||(this.events[t]=[]),this.events[t].push(e);return this},fire:function(t){var e=this,i=[].slice.call(arguments,1);return s(this.events[t]||[],function(t){"function"==typeof t&&t.apply(e,i)}),this},now:Date.now||function(){return+new Date},toggle:function(){return this.playing?this.stop():this.start()},reset:function(){return this.timeout=0,this.step()},_start:function(){return this.playing||(this.playing=!0,this.tweenTime=this.now(),this.complete&&(this.complete=!1,this.timeout=0),this.step().fire("start")),this},_step:function(){var t=this,e=this.duration,i=this.now(),s=this.playing?i-this.tweenTime:0;return this.percent=e?this.easeFunc.call(null,this.timeout=Math.max(0,Math.min(e,this.timeout+s)),0,e,e)/e:1,this.tweenTime=i,this.frameTime=s,this.fire("step",t.percent,t.duration-t.timeout),this.timeout<e?this.playing&&(this._timer=o(function(){t.step()})):this.stop().fire("finish"),this},_stop:function(){return this.playing&&(this.playing=!1,a(this._timer),this.fire("stop")),this},_finish:function(){return this.complete||(this.timeout=this.duration,this.step()),this},frame:function(t,e){var i="function"==typeof t,s=0,n=0;return this.step(function(){var o=i?t.call(this):t;s+=this.frameTime,s>=o&&(s%=o,e.call(this,(s-n)/o),n=s)})},setDuration:function(t){var e=this.duration?this.timeout/this.duration:0;return this.timeout=e*(this.duration=parseFloat(t)||0),this},setTween:function(t){return this.easeFunc="function"==typeof t?t:function(t,e,i,s){return i*t/s+e},this}},s("start step stop finish".split(" "),function(t){e.prototype[t]=function(e){return"function"==typeof e?this.on(t,e):this["_"+t]()}}),t.UM.progress=function(t,i){return new e(t,i)}}(window,function(t,e){return this instanceof arguments.callee?void this.setDuration(t).setTween(e).bindEvent():new arguments.callee(t,e)}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(){sessionStorage.hasAjax&&sessionStorage.clear();var t=sessionStorage.hashArr;this.hashArr=t&&JSON.parse(t)||[],this.settings=$.extend({},this.defaults),this.endCurrent=!1,this.endNext=!1,this.animEndEventName="webkitAnimationEnd",this.outClass="",this.inClass="",this._init()}return i.prototype={constructor:i,defaults:{target:null,isReverse:0,transition:"um"},_init:function(){var t=(this.settings,$(".um-page.active").length);t&&(t=$(".um-page.active").eq(0).index(),$(".um-page.active").removeClass("active")),$.each($(".um-page"),function(){var t=$(this);t.data("originalClassList",t.attr("class"))});var e=$(sessionStorage.initActivePageId);e.length&&e.hasClass("um-page")?e.addClass("active"):$(".um-page").eq(t).addClass("active")},_updateCurrent:function(){this.currPage=$(".um-page.active").eq(0),this.currId=this.currPage.attr("id")},changePage:function(t){var t;"string"==typeof t&&(t={target:t}),this.settings=$.extend(this.settings,t),this._updateCurrent(),this._checkSettings()&&(this._pageAnimate(),this.hashArr.push(this.currId),this._cacheActivePageId(this.settings.target.slice(1)),this.hashArr.length&&(sessionStorage.hashArr=JSON.stringify(this.hashArr)))},_cacheActivePageId:function(t){sessionStorage.initActivePageId="#"+t},back:function(){var t,e=this.hashArr.length;e&&(t=this.hashArr[e-1],this._updateCurrent(),this.settings.target="#"+t,this.settings.isReverse=1,this._pageAnimate(),this._cacheActivePageId(t),this.hashArr.pop(),sessionStorage.hashArr=JSON.stringify(this.hashArr),this.settings.isReverse=0)},_checkSettings:function(){var t=this.settings,e=t.target,i=$(e);return!!(e&&i&&i.length&&sessionStorage.initActivePageId!==e)&&(!(!this.currId&&this.currPage.hasClass("um-page"))||(alert("请填写当前页page id,否则无法返回该页"),!1))},_pageAnimate:function(){var t=this.settings,e=this,i=$(t.target),s=this.currPage,n=e.animEndEventName,o=i.index()<s.index();i.trigger("beforePageIn"),s.trigger("beforePageOut"),o&&!t.isReverse&&i.addClass("um-page-forward"),!o&&t.isReverse&&s.addClass("um-page-forward"),i.addClass("active"),e._setTransitionClass(t.transition),s.length&&s.addClass(e.outClass).on(n,function(){s.off(n),e.endCurrent=!0,e.endNext&&e._resetPage(i,s)}),i.addClass(e.inClass).on(n,function(){i.off(n),e.endNext=!0,e.endCurrent&&e._resetPage(i,s),setTimeout(function(){i.trigger("afterPageIn"),s.trigger("afterPageOut")},300)})},_setTransitionClass:function(t){var e=this.settings.isReverse;switch(t){case"um":this.outClass="out um-left-out",this.inClass="in um-right-in",e&&(this.outClass="out um-right-out",this.inClass="in um-left-in");break;case"f7":this.outClass="um-center-to-left",this.inClass="um-right-to-center",e&&(this.outClass="um-center-to-right",this.inClass="um-left-to-center");break;case"pop":this.outClass="um-noeffect",this.inClass="um-moveFromBottom",e&&(this.outClass="um-moveToBottom",this.inClass="um-noeffect");break;case"stretch":this.outClass="um-left-out",this.inClass="um-scaleRightIn",e&&(this.outClass="um-right-out",this.inClass="um-scaleLeftIn");break;case"drop":this.outClass="um-noeffect",this.inClass="um-moveFromTop",e&&(this.outClass="um-moveToTop",this.inClass="um-noeffect");break;case"slideup":this.outClass="um-moveToTop",this.inClass="um-moveFromBottom",e&&(this.outClass="um-moveToBottom",this.inClass="um-moveFromTop");break;case"fade":this.outClass="um-fadeOut",this.inClass="um-fadeIn";break;case"slide_scale":this.outClass="um-scaleDown",this.inClass="um-moveFromRight",e&&(this.outClass="um-scaleDown",this.inClass="um-moveFromLeft");break;case"scale_down_up":this.outClass="um-scaleDownUp",this.inClass="um-scaleUp",e&&(this.outClass="um-scaleDown",this.inClass="um-scaleUpDown");break;case"drop":this.outClass="um-noeffect",this.inClass="um-moveFromTop",e&&(this.outClass="um-moveToTop",this.inClass="um-noeffect");break;case"rotate":this.outClass="um-rotateOutNewspaper",this.inClass="um-rotateInNewspaper";break;case"push_left":this.outClass="um-rotatePushLeft",this.inClass="um-moveFromRight",e&&(this.outClass="um-rotatePushRight",this.inClass="um-moveFromLeft");break;case"push_top":this.outClass="um-rotatePushTop",this.inClass="um-rotatePullBottom",e&&(this.outClass="um-rotatePushBottom",this.inClass="um-rotatePullTop");break;default:this.outClass="out um-left-out",this.inClass="in um-right-in",e&&(this.outClass="out um-right-out",this.inClass="in um-left-in")}},_resetPage:function(t,e){this.settings;this.endCurrent=!1,this.endNext=!1,e.attr("class",e.data("originalClassList")),t.attr("class",t.data("originalClassList")+" active")}},$(function(){UM.page=new i}),$(document).on("click","a[href^=#]",function(t){t.preventDefault();var e=$(this),i=e.attr("href"),s=e.hasClass("um-back"),n=$(this).data("target"),o=$(this).data("transition")||UM.page.defaults.transition,a=$(this).data("url");isReverse=s||e.data("reverse")?1:0;try{if(s)UM.page.back();else{if(i.indexOf("##")>=0)return;if($(i).length)e.parents(".um-sidebar").length&&$(".overlay").trigger(UM.UI.eventType.down),UM.page.changePage({target:i,isReverse:isReverse,transition:o});else if(a){var r;$.get(a).done(function(t){if(t){var t=$(t);r=t[0].id,r||(r="page"+(new Date).getTime(),t.attr("id",r)),$("body").append(t),t.data("originalClassList",t.attr("class"));var i="#"+r;UModal.loading(null,300,function(){UM.page.changePage({target:i})}),0==e.data("cache")?$(i).on("afterPageOut",function(){$(this).remove()}):(e.attr("href","#"+r),a=null),sessionStorage.hasAjax=1}}).fail(function(){console.log("链接错误...")})}else n&&UM.actionsheet.open("#"+n)}}catch(t){console.log(t)}}),UM.page}),+function(t){"use strict";t(function(){var e=t(".um-table-container");if(e.length){var i=function(){t.each(e,function(){var e=t(this),i=e.find(".um-tb-data").data("row-width"),s=e.find(".um-tb-body").innerWidth(),n=e.find(".um-tb-body-left").outerWidth()||0,o=s-n,a=e.hasClass("table-row-scroll"),r=e.hasClass("table-col-scroll");r&&e.find(".um-tb-body-left,.um-tb-data").height("auto"),a&&e.find(".um-tb-data").css("overflow-x","hidden"),e.find(".um-tb-header-title table,.um-tb-data-table").width(Math.max(o,i))})};i(),window.addEventListener("resize",i),t(".um-tb-data").on("scroll",function(e){var i=t(this).closest(".um-table-container"),s=i.find(".um-tb-body-left")[0],n=i.find(".um-tb-header-title")[0];s&&(s.children[0].style.top="-"+this.scrollTop+"px"),n&&(n.children[0].style.left="-"+this.scrollLeft+"px")})}})}(jQuery),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","base","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){var i=$("<span class='um-water'></span>");$(document).on("click","[um-water]",function(t){var e,s,n=$(this);UM.UI.isMobile&&t.originalEvent&&t.originalEvent.changedTouches?(e=t.originalEvent.changedTouches[0].pageX,s=t.originalEvent.changedTouches[0].pageY):(e=t.pageX,s=t.pageY),e=e-150-n.offset().left,s=s-150-n.offset().top,i.css({left:e,top:s}),i.on("webkitAnimationEnd",function(t){i.off("webkitAnimationEnd").remove(),n.removeClass("oh pr")}),n.addClass("oh pr").append(i)})}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e={selector:"",imgmark:"",style:{position:"absolute",opacity:.5,right:5,bottom:5},text:"",textStyle:{position:"absolute",opacity:.8,left:10,bottom:10,color:"#fff",fontWeight:"bold"}};this.settings=$.extend(!0,{},e,t);var i=this.settings,s=this.settings.selector&&$(this.settings.selector).length&&$(this.settings.selector),n=this.settings.imgmark,o=this.settings.text;if(s&&(n||o)){if(s.wrap($("<div/>",{"class":"pr ib"})),n){var a=new Image;a.onload=function(){s.after($("<img/>",{src:n,css:i.style}))},a.src=n}o&&s.after($("<span/>",{text:o,css:i.textStyle}))}}return UM.imgMark=function(t){return new i(t)},UM.imgMark}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){var i=function(t){this.defaults={id:null,number:5,half:!1,score:0,showText:!1,text:[],click:function(t,e){}},this.settings=$.extend(!0,{},this.defaults,t),this.init()};return i.prototype={init:function(){var t=this,e=$("#"+this.settings.id).addClass("um-grade");if(e&&e.length){for(var i=this.settings.number,s=0;s<i;s++)e.append($("<div/>",{"class":"um-grade-out",title:this.settings.text[s]}));this.settings.showText&&e.append($("<div/>",{"class":"um-grade-text"})),this.score(this.settings.score),e.on("click",".um-grade-out",function(e){var i=$(this).index();t.score(i+1,e),t._half(e),$(this).trigger("myclick",[i+1,e])})}},bindClick:function(t){$("#"+this.settings.id).on("myclick",function(e,i,s){t.call(null,i,s)})},score:function(t,e){var i=this.settings.number,s=$("#"+this.settings.id);if(t<0||t>i)return void console.warn("评分数超出范围");var i=i;this.settings.showText&&(this.settings.text[t-1]?s.find(".um-grade-msg").html(this.settings.text[t-1]):s.find(".um-grade-msg").html(this.defaults.text[t-1])),s.find(".um-grade-out:lt("+t+")").addClass("um-grade-in").end().find(".um-grade-out:gt("+(t-1)+")").removeClass("um-grade-in")},_half:function(t){var e=this.settings.half,i=$("#"+this.settings.id),s=$(t.target).offset().left+$(t.target).width()/2,n=t.pageX,o=$(t.target).index();e?(i.find(".um-grade-out").removeClass("um-grade-half"),s>n?(s>n&&i.find(".um-grade-out").eq(o).addClass("um-grade-half").siblings(".um-grade-out").removeClass("half"),this.settings.click(o+.5,t)):(i.find(".um-grade-out").removeClass("um-grade-half"),this.settings.click(o+1,t))):this.settings.click(o+1,t)}},UM.raty=function(t){return new i(t)},UM.raty}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("requires a window with a document");return e(t)}:"function"==typeof define&&define.amd?define(["jquery","UM"],function(){return e(t)}):e(t)}("undefined"!=typeof window?window:this,function(t,e){var i=function(t){this.type=t};i.prototype={constructor:i,open:function(t,e){var i=this;if(this.$target=t&&$(t).length&&$(t),this.$target&&this.$target.hasClass("um-"+this.type)){if(this.$target.addClass("active"),e){var s="um-page-pushfrom"+e;this.$target.data("pushPageClass",s),$(".um-page.active").addClass("um-transition-default").addClass(s)}this.$overlay=e?$('<div class="overlay" style="background-color:rgba(0,0,0,0.1)"></div>'):$('<div class="overlay"></div>'),this.$target.before(this.$overlay),this.$overlay.on(UM.UI.eventType.down,function(){i.close()})}},close:function(){this.$target?this.$target.removeClass("active"):$("um-"+this.type).removeClass("active"),this.$overlay.remove();var t=this.$target.data("pushPageClass");t&&$(".um-page.active").removeClass(t).one("webkitTransitionEnd",function(){$(this).removeClass("um-transition-default")})}},UM.actionsheet=new i("actionsheet"),UM.sidebar=new i("sidebar"),UM.poppicker=new i("poppicker")});